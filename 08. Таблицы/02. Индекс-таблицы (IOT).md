# IOT
Таблица, которая хранит строки в индексе типа B-дерево, который определен для PK
Можно строить отдельные индексы по колонкам такой таблицы

Строение:
  - В листовом блоке хранится вся строка.
  - Листовой блок не хранит rowid, так как не нужно обращаться после индекса к таблице

Преймущества:
  - Требует меньше места для хранения, т.к. будет создан один сегмент вместо двух как в традиционных таблицах и индексах
  - Не надо брать rowid строки и читать таблицу, все данные уже есть в индексе

Применение:
  - 

### Создание
````
create table b (nomer number(12), famil varchar2(240), adress varchar2(240) constraint b_nomer_pk primary key (nomer)) organization index;
````

### Область переполнения

Зачем нужна: 
  - Если к некоторым столбцам обращаются очень редко, то их можно перенести в другой сегмент.
  - Этот другой сегмент называется областью переполнения.
  - Соответственно основной сегмент уменьшится и повысится происзводительность. (при условии что эти столбцы не будут запрашиваться)

Особенности:
  - Сегменты переполнения могут находится в отдельном пространстве.
  - Сегменты переполнения могут содержать только столбцы которые не входят в PK
  - Если в основном сегменте строка не может поместиться в блок, значит необходимо определить область переполнения
  
Как определяются:
  - С помощью ключевых слов PCTHRESHOLD или INCLUDING предложеия OVERFLOW


Пример:
````
create table b (nomer number(12), famil varchar2(240), adress varchar2(240) constraint b_nomer_pk primary key (nomer)) organization index INCLUDING adress OVERFLOW;
````

Что будет создано: 
  - 2 объекта таблицы. Основной и переполненный
  - 1 объект индекса
  - 2 сегмента, основной и переполненный

### Если так все круто, почему везде просто не использовать IOT
  - Более долгий поиск через вторичный индекс
    - Допустим в индексе обычной таблиця мы нашли rowid и сразу с диска считали нужный блок таблицы
    - А в индексе IOT таблицы ROWID нет. Там PK самого IOT.
    - Получается мы должны сделать еще поиск по IOT таблице.
    - А это дольше чем просто взять нужный блок по ROWID