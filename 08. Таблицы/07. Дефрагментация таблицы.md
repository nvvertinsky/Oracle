# Дефрагментация таблицы


### Фрагментированная таблица
  - Это когда в таблице есть пустые блоки до линии HWM.
  - Пустые блоки могут образоваться из за команды delete. Потому что delete удаляет строки в блоках.


### Как сделать дефрагментацию
  - alter table t move
  - export / truncate / import
  - ALTER TABLE имя_таблицы SHRINK SPACE [COMPACT] [CASCADE]
	
	
### Какие основные различия move от shrink 
  - SHRINK предназначен прямо для дефрагментации таблицы. У MOVE это всего лишь побочный эффект.
  - SHRINK онлайн операция. Индексы остаются юзабельны. MOVE нет.
  - Для MOVE нужно столько же места в табличном пространстве, сколько весит сама таблица. Для SHRINK нет.