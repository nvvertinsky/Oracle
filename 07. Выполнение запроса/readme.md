# Как выполняется фаза execute


### При SELECT + FULL SCAN
  1. В PGA в курсорной области создается курсор.
  2. Если это маленькая таблица, то серверный процесс считывает блок с данными в буферный кеш.
  3. Вытаскиваем все записи из блока и переносим в курсор
  4. И повторяем все тоже самое с остальными блоками
  5. Если таблица большая, то блоки сразу грузятся в PGA. Чтобы не вымывать буферный кеш
  
### SELECT + INDEX B-TREE
  1. Берем первый блок индекса (корень) в буферный кеш
  2. В считанном блоке есть информация о том какой следующий блок брать (ветви)
  3. Таким образом доходим до того, что считываем с диска листовой блок индекса.
  4. В листовом блоке есть rowid нужной нам записи.
  5. Считываем с диска по rowid нужный нам блок. 
  6. В блоке находим нужную запись
  7. Если нашли нужную запись, то вытаскиваем ее и переносим в курсор. Если нужно отсортировать, то сначала в область сортировки, а потом в курсор

### При UPDATE: 
  1. Считываем блок с данными в буферный кеш
  2. Записываем неизмененный блок в UNDO. Чтобы другие запросы могли читать неизменненные данные. 
  3. Меняем данные в блоке.
  4. LGWR записывает изнеменение в блоке в REDO журнал в оперативной памяти
  5. Пользователь нажимает commit
  6. LGWR скидывает данные об операции в файл логов REDO на диске. Эта запись на диске будет определять что транзакция реально зафиксирована.
  7. DBWR скидывает блок на диск, если он долго не запрашивается
  8. А если запрашивается часто, то останется в буферном кеше